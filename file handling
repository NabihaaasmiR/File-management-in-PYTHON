import csv
import os

FILE_NAME = "expensetracker.csv"

if not os.path.exists(FILE_NAME):
    with open(FILE_NAME, "w", newline="") as file:
        writer = csv.writer(file)
        writer.writerow(["Amount", "Category"])

def add_expense(amount, category):
    with open(FILE_NAME, "a", newline="") as file:
        writer = csv.writer(file)
        writer.writerow([amount, category])
    print("\nâœ… Expense added successfully!\n")

def view_expenses():
    with open(FILE_NAME, "r") as file:
        reader = csv.reader(file)
        data = list(reader)
    
    if len(data) == 1:
        print("\nğŸ“‚ No expenses recorded yet.\n")
        return

    print("\nğŸ“Œ Your Expenses:")
    print("-" * 25)
    for row in data:
        print(f"ğŸ’° {row[0]}  |  ğŸ“Œ {row[1]}")
    print("-" * 25)

# Main Menu
while True:
    print("\nğŸŒŸ Expense Tracker ğŸŒŸ")
    print("1ï¸âƒ£ Add Expense")
    print("2ï¸âƒ£ View Expenses")
    print("3ï¸âƒ£ Exit")

    choice = input("Enter choice: ")

    if choice == "1":
        add_expense(input("ğŸ’° Amount: "), input("ğŸ“Œ Category: "))
    elif choice == "2":
        view_expenses()
    elif choice == "3":
        print("\nğŸ‘‹ Exiting... Have a great day!\n")
        break
    else:
        print("\nâŒ Invalid choice! Please enter 1, 2, or 3.\n")